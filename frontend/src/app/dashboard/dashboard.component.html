<div class="dashboard-grid">

  <section class="quadrant medications">
    <h2>Today's Medications</h2>
    <ul>
      <li *ngFor="let med of todaysScheduledMedications" class="medication-item">
        <input type="checkbox" [checked]="checked[med.doseKey]" (change)="toggleMedication(med.doseKey, $event)" />
        <label>{{ med.name }} - {{ med.dose }}</label>
        <span class="med-time">{{ med.time }}</span>
      </li>
    </ul>
    <button (click)="markAllTaken()">Mark all taken</button>
  </section>

  <section class="quadrant reminders">
    <h2>Reminders</h2>
    <div *ngFor="let reminder of reminders" class="reminder" [ngClass]="reminder.type">
      <span class="reminder-icon">{{ reminder.icon }}</span>
      <span class="reminder-text">{{ reminder.text }}</span>
    </div>
    <div *ngIf="reminders.length === 0" class="reminder info">
      <span class="reminder-text">You are on track with your medications today. Keep it up!</span>
    </div>
  </section>

  <section class="quadrant doses">
    <h2>Upcoming Doses</h2>
    <div *ngIf="upcomingDoses.length === 0" class="no-upcoming">
      üéâ No remaining medications scheduled for today!
    </div>
    <ul *ngIf="upcomingDoses.length > 0">
      <li *ngFor="let dose of upcomingDoses">
        <span>{{ dose.name }} - {{ dose.dose }}</span>
        <span class="dose-time" *ngIf="dose.time">{{ dose.time }}</span>
      </li>
    </ul>
  </section>

<section class="quadrant interactions">
  <h2>Drug Interactions</h2>
  <ng-container *ngIf="interactions?.interactions as ints">
    <div *ngIf="ints.length === 0" class="no-interactions">No interactions found.</div>
    <div *ngIf="ints.length > 0" class="interactions-list">
      <div *ngFor="let inter of ints" class="interaction-item" [ngClass]="inter.severity">
        <span class="interaction-icon">
          {{ inter.severity === 'high' ? 'üî¥' : (inter.severity === 'moderate' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è') }}
        </span>
        <div>
          <div class="interaction-drugs">{{ inter.drugs.join(' + ') }}</div>
          <div class="interaction-description">{{ inter.description }}</div>
        </div>
      </div>
    </div>
  </ng-container>
  <div *ngIf="!interactions && !interactionError" class="no-interactions">No interactions found.</div>
  <div *ngIf="interactionError" class="interaction-error">{{ interactionError }}</div>
</section>

</div>
